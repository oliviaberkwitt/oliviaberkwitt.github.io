<!DOCTYPE html>
<html lang="en">
  <!-- Meta information and links to resources like fonts, CSS, and JavaScript files go in head -->
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Title in browser tab -->
    <title>From Bean to Bar</title>
    <meta name="description" content="website description text" />
    <meta name="author" content="Olivia Berkwitt" />
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Yeseva+One&display=swap"
      rel="stylesheet"
    />
  </head>

  <!-- Body includes all content you see on the page -->
  <body>
    <div class="content">
      <section class="negativeone">
        <h1>From Bean to Bar</h1>
        <button class="button" id="go-to-bottom">Start</button>
      </section>

      <section class="zero">
        <div class="svg-bg">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            id="cacao-tree-svg"
            viewbox="0 0 1955.84 1421.87"
          >
            <g id="cacao-tree" data-name="Layer_1">
              <path
                class="branch"
                d="M1246.5,538.8c-54.05,20.72-101.28,29.98-133.05,34.56,66.47,32.01,112.86,57.92,143.42,76.03,16.96,10.04,39.53,21.67,84.67,44.92,12.4,6.39,29.5,15.1,53.56,22.47,17.53,5.36,32.59,8.13,43.2,9.66-17.86,32.49-35.71,64.98-53.57,97.47-5.3-12.72-14.28-30.33-29.37-48.38-15.39-18.42-31.47-30.52-43.2-38.02-99.67-56.45-180.61-101.35-235-131.32-157.46-86.77-166.36-89.2-210.81-119.23-87.77-59.3-113.22-90.48-188.34-127.87-16.62-8.27-50.07-24.01-93.31-51.84-36.91-23.74-35.63-27.14-69.12-48.38-51.15-32.44-61.29-29.08-114.04-62.2-24.16-15.17-25.25-17.9-69.12-48.39-1.4-.97-2.79-1.93-4.17-2.89-55.65-38.5-121.74-59.04-189.41-59.04H0V0c50.61,2.04,113.18,8.75,183.12,26.04,67.99,16.8,125.08,39.18,170.04,60.31,184.95,114.75,287.11,179.86,345.58,220.9,78.46,55.08,162.39,102,241.91,155.52,5.97,4.01,31.14,21,67.39,38.01,22.46,10.54,48,22.54,76.03,27.65,45.55,8.31,84.56-3.92,115.77-15.55,102.6-38.23,184.48-93.62,202.17-105.4,57.67-38.4,143.7-86.47,264.38-124.42l-74.3,76.03c-72.86,31.82-130.05,62.33-169.34,84.67-74.54,42.38-109.18,69.32-176.25,95.04Z"
              />
              <g id="pod1">
                <path
                  id="stem"
                  class="cls-1"
                  d="M372.16,160.38c4.56,21.83,8.55,45.35,11.55,70.43,1.6,13.34,2.82,26.3,3.72,38.81,2.5.7,9.15,2.2,16.93-.41,6.88-2.31,11.02-6.61,12.73-8.61-5.76-31.68-11.52-63.36-17.28-95.04l-27.65-5.18Z"
                />
                <path
                  id="pod"
                  class="cls-6"
                  d="M454.08,715.28c19.48-3.3,30.89-19.42,51.26-49.12,22.71-33.12,54.23-79.09,63-148.43,9.95-78.66-7.1-205.5-91.83-248.81-22.88-11.69-45.21-14.49-60.87-14.95-15.18-.59-41.71.56-66.21,16.02-71.22,44.94-59.05,169.1-55.53,205.02,2.67,27.25,10.59,75.22,38.44,127.07,8.51,15.84,65.89,122.65,121.73,113.19Z"
                />
              </g>
              <g id="pod2">
                <path
                  id="stem-2"
                  data-name="stem"
                  class="cls-1"
                  d="M685.47,316.85c3.17,13.44,5.67,27.83,7.1,43.05.76,8.09,1.16,15.92,1.28,23.45,2.44.68,8.96,2.26,16.86,1.52,6.98-.65,11.37-2.78,13.2-3.79-3.75-19.42-7.51-38.84-11.26-58.26l-27.17-5.96Z"
                />
                <path
                  id="pod-2"
                  data-name="pod"
                  class="cls-5"
                  d="M821.42,863.71c16.92-11.39,18.73-30.21,27.76-59.8,12.71-41.62,21.84-45.95,29.9-71.54,10.77-34.19,1.98-72.74-16.02-148.43-19.58-82.34-30-124.2-60.87-158.04-22.25-24.4-46.69-38.7-64.07-46.98-10.41-4-41.42-14.34-70.48,0-14.81,7.31-24.44,18.73-35.24,36.31-33.75,54.95-41.79,109.65-42.71,116.39-4.24,30.9-13.01,101.87,23.49,179.4,14.54,30.89,42.09,59.39,97.17,116.39,18.89,19.55,40.97,40.83,72.61,43.78,7.93.74,24.29,2.05,38.44-7.47Z"
                />
              </g>
              <g id="pod3">
                <path
                  id="stem-3"
                  data-name="stem"
                  class="cls-1"
                  d="M1014.93,569.57c2.18,19.07,29.42,21.79,32.17,53.39.71,8.1,1.16,15.92,1.28,23.45,2.44.68,8.96,2.26,16.86,1.52,6.98-.65,11.37-2.78,13.2-3.79-3.75-19.42-7.51-38.84-11.26-58.26l-52.25-16.31Z"
                />
                <path
                  id="pod-3"
                  data-name="pod"
                  class="cls-4"
                  d="M1090.14,1107.41c3.99.66,18.84,3.12,32.32-4.79,12.5-7.33,13.4-17.45,26.34-35.91,10.78-15.38,19.62-21.86,27.53-29.93,31.14-31.74,42.65-82.18,49.08-113.72,8.61-42.26,14.23-69.82,7.18-106.54-6.69-34.85-24.01-60.74-58.66-112.52-13.32-19.91-29.38-41.34-56.26-57.46-13.65-8.19-23.79-11.23-26.34-11.97-35.01-10.14-64.74,2.22-70.63,4.79-10.13,4.43-32.74,14.38-44.29,37.11-9.31,18.33-1.68,25.79-10.77,56.26-5.86,19.62-10.85,22.67-19.15,43.09-11.74,28.89-14.2,53.45-15.56,67.04-6.76,67.4,18.84,122.35,22.74,130.48,18.35,38.21,22.96,21.44,92.17,104.14,7.43,8.88,21.7,26.19,44.29,29.93Z"
                />
              </g>
              <g id="leaf">
                <path
                  id="leafbody"
                  class="cls-3"
                  d="M1929.57,125.67c-93.89,10.44-154.96,43.6-189.84,67.64-33.36,22.99-77.52,80.06-165.83,194.2-63.39,81.92-76.17,103.21-87.28,133.1-22.75,61.2-9.06,79.18-30.55,148.38-28.7,92.43-60.77,84.97-78.36,155.25-16.06,64.18-.59,119.77,30.35,230.97,12.92,46.42,26.57,94.47,56.73,152.74,14.88,28.75,92.79,180.38,148.38,168.02,31.69-7.05,15.84-58.43,65.46-120.01,55.76-69.2,117.72-56.35,185.47-130.92,29.76-32.76,45.96-66.22,54.55-87.28l10.91-912.09Z"
                />
                <g id="veins">
                  <path
                    class="cls-2"
                    d="M1953.57,154.04c-27.75,59.35-62.27,139.17-96.01,235.66-97.95,280.07-62.42,337.52-157.11,595.69-22.37,60.99-53.17,136.35-74.19,250.93-14.17,77.21-18.36,142.05-19.64,185.47"
                  />
                  <path
                    class="cls-2"
                    d="M1921.72,225c-113.53,8.16-174.92,43.25-210.2,74.68-18.3,16.31-47.54,47.64-100.45,85.84-28.58,20.63-53.42,35.59-69.96,45.01"
                  />
                  <path
                    class="cls-2"
                    d="M1876.86,336.46s49.83,29.9,49.71,39.94"
                  />
                  <path
                    class="cls-2"
                    d="M1869.46,356.43c-16.92-.17-44.9.99-77.58,9.92-49.71,13.59-65.6,32.96-161.63,93.15-64.89,40.67-71.27,40.37-92.23,60.27-40,37.96-60.96,80.97-72.34,111.21"
                  />
                  <path
                    class="cls-2"
                    d="M1835.66,455.47s89.27,57.87,88.6,114.44"
                  />
                  <path
                    class="cls-2"
                    d="M1794.78,609.19s117,88.04,126.94,164.89"
                  />
                  <path
                    class="cls-2"
                    d="M1762.44,774.08s142.3,106.04,156.73,220.83"
                  />
                  <path
                    class="cls-2"
                    d="M1727.94,904.98s172.1,119.75,121.27,235.2"
                  />
                  <path
                    class="cls-2"
                    d="M1691.18,1010.4s87.77,10.5,83.87,178.2"
                  />
                  <path
                    class="cls-2"
                    d="M1654.8,1116.82s66.35-7.61,36.38,135.39"
                  />
                  <path
                    class="cls-2"
                    d="M1826.89,484.07c-38.5,16.41-133.45,56.9-158.86,67.72-84.11,35.83-115.95,49.33-153.7,79.77-36.79,29.67-61.05,60.78-75.51,81.87"
                  />
                  <path
                    class="cls-2"
                    d="M1788.7,638.57c-27.85,7.18-66.18,18.78-109.97,37.74-40.86,17.69-67.21,33.44-118.68,64.21-67.24,40.19-101.37,60.86-126.47,88.53-31.78,35.05-48.76,71.27-57.93,95.42"
                  />
                  <path
                    class="cls-2"
                    d="M1765.97,757.19s-361.63,162.21-366.96,265.39"
                  />
                  <path
                    class="cls-2"
                    d="M1734.22,884.49s-299.4,111.39-307.81,232.26"
                  />
                  <path
                    class="cls-2"
                    d="M1694.82,1000.62s-239.1,105.83-238.01,191.36"
                  />
                  <path
                    class="cls-2"
                    d="M1659.37,1101.79s-175.37,106.14-154.37,177.41"
                  />
                  <path
                    class="cls-2"
                    d="M1632.85,1203.11s-103.7,97.49-74.15,146.74"
                  />
                </g>
              </g>
            </g>
          </svg>
        </div>
        <div class="zeroflex">
          <h2>Cacao Tree</h2>
          <p>
            Chocolate starts with the cacao tree, which grows in warm, tropical
            climates near the equator. Its fruit, called cacao pods, hold the
            precious beans that will eventually become chocolate. Each pod
            contains 20 to 40 beans surrounded by sweet white pulp.
          </p>
          <div id="go-to-top"></div>
        </div>
      </section>
    </div>

    <!-- Start wrapper-1 -->
    <div class="wrapper-1">
      <!-- Start Container - set to number of sections you want in css. 300vw = 3 sections -->
      <div class="horiz-container1 scrollx">
        <section class="one">
          <article class="left">
            <h2>Harvesting the Beans</h2>
            <p>
              Cacao pods are carefully cut from the trees by hand using machetes
              or clippers. Timing is important—harvest too early or too late,
              and the beans will develop the right flavor. Once collected, the
              pods are split open to reveal the beans inside.
            </p>
          </article>
          <article class="right">
            <div class="img-wrapper">
              <div class="image-stack">
                <div
                  class="image-layer active"
                  id="podLayer"
                  onclick="revealHusk()"
                >
                  <img
                    src="Project1/Images/pod.png"
                    alt="Cacao Pod"
                  />
                </div>
                <div
                  class="image-layer"
                  id="huskLayer"
                  onclick="revealBeanswhusk()"
                >
                  <img
                    src="Project1/Images/pod-interior.png"
                    alt="Cacao Husk"
                  />
                </div>
                <div
                  class="image-layer"
                  id="beanswhuskLayer"
                  onclick="revealBeans()"
                >
                  <img
                    src="Project1/Images/beans-w-husk.png"
                    alt="Cacao Beans with Husk"
                  />
                </div>
                <div class="image-layer" id="beansLayer">
                  <img
                    src="Project1/Images/beans.png"
                    alt="Cacao Beans"
                  />
                </div>
              </div>
            </div>
          </article>
        </section>

        <section class="two">
          <div class="fermentation-wrapper">
              <div class="header-and-body">
                <h2>Fermentation</h2>
                <div class="fermentation-text" id="fermentation-text">
                  <p>
                    After harvesting, the beans are left to ferment for several
                    days, usually under banana leaves or in wooden boxes. This
                    step is crucial—it develops the deep, complex flavors we
                    associate with chocolate. Without fermentation, the beans
                    would taste bitter and flat.
                  </p>
                </div>
              </div>
              <div class="clock-container">
                <div class="readout" id="readout">Day 0 Hour 0</div>
                <!-- Clock face -->
                <div class="clock-face" id="clock-face">
                  <div class="inner-glow" id="inner-glow"></div>
                  <!-- ⏱️ Clock hand -->
                  <div class="hand" id="hand"></div>
                </div>
                
                <button id="startBtn">How Long Does Fermentation Take?</button>
              </div>
          </div>
        </section>
      </div>
    </div>
    <!-- End wrapper-1 -->
    <!-- Start wrapper-2 -->
    <div class="wrapper-2">
      <div class="horiz-container2 scrollx">
        <section class="three">
          <article class="three-left">
            <h2>Drying</h2>
            <p>
              Cacao pods are carefully cut from the trees by hand using machetes
              or clippers. Timing is important—harvest too early or too late,
              and the beans won’t develop the right flavor. Once collected, the
              pods are split open to reveal the beans inside.
            </p>
          </article>
        </section>

        <section class="four">
          <article class="four-left">
            <h2>Roasting</h2>
            <p>
              Next, the beans are roasted at high temperatures to bring out
              their rich chocolate aroma. Roasting also helps separate the outer
              shell from the inner nib. The specific time and temperature vary
              depending on the type of chocolate being made.
            </p>
          </article>
        </section>
      </div>
    </div>
    <!-- End Wrapper2 -->
    <!-- Start Vertical Scrolling -->
    <section class="five">
      <div class="video-block" id="crack-block">
        <div class="overlay pink" id="crack-overlay">
          <div class="label">Cracking</div>
        </div>
        <video id="crack-video" muted loop playsinline>
          <source
            src="Project1/Videos/cracking-beans.mp4"
            type="video/mp4"
          />
        </video>
        <div class="description" id="crack-text">
          After roasting, the hard outer shell of each cacao bean needs to be
          broken open. This step is called cracking. It breaks the beans into
          smaller pieces, making it easier to separate the edible nibs from the
          inedible shells.
        </div>
      </div>

      <div class="video-block" id="winnow-block">
        <div class="overlay pink" id="winnow-overlay">
          <div class="label">Winnowing</div>
        </div>
        <video id="winnow-video" muted loop playsinline>
          <source
            src="Project1/Videos/winnowing.mp4"
            type="video/mp4"
          />
        </video>
        <div class="description" id="winnow-text">
          Once the beans are cracked, the broken shells are removed through a
          process called winnowing. A light airflow blows away the lighter
          shells, leaving behind the heavier cacao nibs—the pure, flavorful
          centers that will be used to make chocolate.
        </div>
      </div>
    </section>
    <section class="six">
      <article class="left-grinding">
        <h2>Grinding</h2>
        <button id="revealGrindingText">Click to Learn More!</button>
        <div class="grinding-description">
          <p>
            After roasting, the beans are cracked open, and the outer shells are
            removed through a process called winnowing. What’s left behind are
            the cacao nibs—the pure, flavorful center that holds all the
            chocolatey goodness.
          </p>
        </div>
      </article>
      <article class="right-grinding">
        <div class="grinding-particles" id="grindingParticles"></div>
      </article>
    </section>

    <section class="seven" id="process-section">
      <div class="process-wrapper">
        <!-- Step 1: Heating -->
        <div class="step" id="step-1">
          <h2>Heating</h2>
          <p>
            The chocolate-making process begins by gently heating the ground
            cacao nibs to melt the cocoa butter. This step transforms the solid
            nibs into a thick, smooth liquid known as chocolate liquor.
            Temperature control here is key—it helps maintain the quality and
            flavor of the final product without burning the cacao.
          </p>
          <video muted autoplay loop playsinline>
            <source
              src="Project1/Videos/heating_2.mp4"
              type="video/mp4"
            />
          </video>
        </div>

        <!-- Step 2: Adding Ingredients -->
        <div class="step" id="step-2">
          <h2>Adding Ingredients</h2>
          <p>
            Once melted, additional ingredients are introduced depending on the
            type of chocolate being made. Sugar, milk powder, vanilla, and
            sometimes extra cocoa butter are blended in. This step is where the
            bitterness of pure cacao is balanced out, and the familiar sweetness
            of chocolate begins to take shape.
          </p>
          <video muted autoplay loop playsinline>
            <source
              src="Project1/Videos/sugar.mp4"
              type="video/mp4"
            />
          </video>
        </div>

        <!-- Step 3: Conching -->
        <div class="step" id="step-3">
          <h2>Conching</h2>
          <p>
            Conching is a slow and meticulous process where the chocolate
            mixture is continuously mixed and aerated. This improves its texture
            and enhances the flavor by allowing bitterness and acidity to
            evaporate. The result is a silky-smooth chocolate with a
            well-rounded taste—ready for tempering and molding.
          </p>
          <video muted autoplay loop playsinline>
            <source
              src="Project1/Videos/conching.mp4"
              type="video/mp4"
            />
          </video>
        </div>
      </div>
    </section>

    <section class="eight">
      <div>
        <h2>Tempering</h2>
        <p>
          Tempering involves carefully heating and cooling the chocolate to
          stabilize the cocoa butter. This gives finished chocolate its
          signature glossy shine and satisfying snap. Skipping this step can
          lead to dull, crumbly chocolate that melts too easily.
        </p>
        <div class="eight-flex">
          <div class="eight-left">
          <h3 id="tempering-description">
          Click the spoon to see what untempered chocolate looks like.
        </h3>
        </div>
        
        <div class="eight-right">
          <img
          id="tempering-spoon"
          src="Project1/Images/spoon.svg"
          alt="Spoon"
        />
        <img
          id="tempering-choco1"
          class="choco-streak"
          src="Project1/Images/tempered.png"
          alt="Chocolate Streak 1"
        />
        <img
          id="tempering-choco2"
          class="choco-streak"
          src="Project1/Images/not-tempered.png"
          alt="Chocolate Streak 2"
        />
        </div>
        </div>
        
        
      </div>
    </section>
    <!-- End Vertical Scrolling -->

    <!-- Start Wrapper3 -->
    <div class="wrapper-3">
      <div class="horiz-container3 scrollx">
        <section class="nine">
          <div class="molding-left">
            <h2>Molding</h2>
            <p>
              At this stage, sugar, milk powder (for milk chocolate), and
              sometimes extra cocoa butter are added. Conching—a process of
              continuous mixing and aerating—refines the texture and balances
              the flavors, turning gritty paste into smooth chocolate.
            </p>
             <!-- Button -->
               <button class="pour-button" id="pour-button">Pour Chocolate</button>
            </div>
            <div class="pour-wrapper">
              <!-- Chocolate Stream SVG -->
              <?xml version="1.0" encoding="UTF-8"?>
                <svg id="chocolate-line-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21.7 230.92">
                    <path id="chocolate-line" class="chocolate-line"
                      d="M15.12,1.54c8.16,10.48,17.75,26.42,14.09,42.67-3.58,15.88-16.58,17.71-19.72,33.81-4.07,20.86,15.75,28.1,12.88,49.91-2.7,20.55-21.68,24.76-19.72,41.86,1.33,11.61,10.52,13.51,15.7,27.37,5.61,15.01,1.49,30.57-3.22,41.86"
                      stroke="#5b3f1d"
                      stroke-width="8"
                      fill="none"
                    />
                </svg>
              <!-- Top Pouring Image -->
                <img src="Project1/Images/bowl-of-chocolate.svg" alt="Pouring Container" class="top-image" />
              <!-- Bottom Mold Image -->
               <img src="Project1/Images/mold-without-chocolate.svg" alt="Mold Container" class="bottom-image mold-empty" />
              <img src="Project1/Images/mold-with-chocolate.svg" alt="Mold Container" class="bottom-image mold-filled" />
            </div>
        </section>

        <section class="wrap">
          <div>
            <h2>Wrapping</h2>
            <p>
              After the chocolate is set and released from the molds, it’s ready
              to be wrapped. This not only protects the chocolate but also adds
              to the experience. A well-designed wrapper can reflect the
              quality, story, or origin of the bar inside.
            </p>
            <p>
            <!-- <a href="bar2.html" target="_blank">Click to See Animation</a></p> -->
          </div>
          
        <!-- choc bar here -->
        <div><iframe  frameborder="0" style="width:100%;height:100%;" src="bar2.html" frameborder="0"></iframe></div>
        </section>
        
      </div> <!-- end scrollx -->
    </div> <!-- end wrapper3 -->

    <section class="eleven">
      <div>
        <h2>Enjoy</h2>
        <p>yaaaaaaaay!!!!</p>
      </div>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js"></script>
    <script>
      // Horizontal scroll for container 1
      const sections1 = gsap.utils.toArray(".horiz-container1 section");
      const scrollTween1 = gsap.to(sections1, {
        xPercent: -100 * (sections1.length - 1),
        ease: "power1.out",
        scrollTrigger: {
          trigger: ".wrapper-1",
          start: "top top",
          end: () => "+=" + window.innerWidth * sections1.length,
          scrub: 0.3,
          pin: true,
          anticipatePin: 1,
        },
      });

      // Horizontal scroll for container 2
      const sections2 = gsap.utils.toArray(".horiz-container2 section");
      const scrollTween2 = gsap.to(sections2, {
        xPercent: -100 * (sections2.length - 1),
        ease: "power1.out",
        scrollTrigger: {
          trigger: ".wrapper-2",
          start: "top top",
          end: () => "+=" + window.innerWidth * sections2.length,
          scrub: 0.3,
          pin: true,
          anticipatePin: 1,
        },
      });

      // Horizontal scroll for container 3
      const sections3 = gsap.utils.toArray(".horiz-container3 section");
      // const tl = gsap.timeline({
      //   xPercent: -100 * (sections2.length - 1),
      //   scrollTrigger: {
      //     trigger: ".wrapper-3",
      //     start: "top top",
      //     end: () => "+=" + window.innerWidth * sections3.length,
      //     scrub: 0.3,
      //     pin: true,
      //     anticipatePin: 1,

      //   }
      // })
      // tl.to()
      //try for a timeline instead
      const scrollTween3 = gsap.to(sections3, {
        xPercent: -100 * (sections2.length - 1),
        ease: "power1.out",
        scrollTrigger: {
          trigger: ".wrapper-3",
          start: "top top",
          end: () => "+=" + window.innerWidth * sections3.length,
          scrub: 0.3,
          pin: true,
          anticipatePin: 1,
        },
      });
      // I think this is where it goes.
    </script>

    <script>
      //       Fermentation clock animation

      document.addEventListener("DOMContentLoaded", () => {
        document
          .getElementById("startBtn")
          .addEventListener("click", startFermentation);
      });

      function startFermentation() {
        let fermentationInterval;
        clearInterval(fermentationInterval);

        const totalDays = 7;
        const totalHours = totalDays * 24;
        const duration = 5 * 1000; // 15 seconds
        const intervalTime = 50;
        const startTime = Date.now();

        fermentationInterval = setInterval(() => {
          const now = Date.now();
          const elapsed = now - startTime;
          const progress = Math.min(elapsed / duration, 1);

          const simulatedHour = Math.floor(progress * totalHours);
          const currentDay = Math.floor(simulatedHour / 24);
          const hourOfDay = simulatedHour % 24;

          const displayDay = Math.min(currentDay, totalDays);
          document.getElementById(
            "readout"
          ).textContent = `Day ${displayDay}, Hour ${hourOfDay}`;

          const rotation = progress * 360 * totalDays;
          document.getElementById(
            "hand"
          ).style.transform = `rotate(${rotation}deg)`;

          if (progress >= 1) {
            clearInterval(fermentationInterval);
            document.getElementById("fermentation-text").classList.add("show");
            document.getElementById("clock-face").classList.add("glow");
            document.getElementById("inner-glow").classList.add("show");
          }
        }, intervalTime);
      }
    </script>

    <script>
  document.addEventListener("DOMContentLoaded", () => {
  // Spoon click animation
  let streakIndex = 0;
  const spoon = document.getElementById("tempering-spoon");
  const streaks = [
    document.getElementById("tempering-choco1"),
    document.getElementById("tempering-choco2")
  ];
  const description = document.getElementById("tempering-description");
  const descriptions = [
    "This is what untempered chocolate looks like—dull, streaky, and it melts too easily. Click the spoon again!",
    "This is tempered chocolate—shiny, smooth, and it has a nice snap when broken."
  ];

  spoon.addEventListener("click", () => {
    streaks.forEach(s => gsap.set(s, { opacity: 0 }));

    gsap.to(spoon, {
      x: 100,
      duration: 0.4,
      ease: "power2.out",
      onComplete: () => {
        gsap.set(streaks[streakIndex], { opacity: 1 });
        description.textContent = descriptions[streakIndex];
        gsap.to(spoon, {
          x: 0,
          duration: 0.4,
          ease: "power1.inOut"
        });
        streakIndex = (streakIndex + 1) % streaks.length;
      }
    });
  });

  // Chocolate line hiding on load
  const line = document.getElementById("chocolate-line");
  const pathLength = line.getTotalLength();
  line.style.strokeDasharray = pathLength;
  line.style.strokeDashoffset = pathLength;
});

</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script>
  document.getElementById("pour-button").addEventListener("click", () => {
    // Animate the chocolate line pouring
    gsap.to("#chocolate-line", {
      strokeDashoffset: 0,
      duration: 2,
      ease: "power2.out",
      onComplete: () => {
        // After pour is complete, fade in the filled mold
        gsap.to(".mold-empty", { opacity: 0, duration: 0.1 });
        gsap.to(".mold-filled", { opacity: 1, duration: 0.1, ease: "power1.inOut" });
      }
    });
  });
</script>

  </body>

  <script>
    function revealHusk() {
      document.getElementById("podLayer").classList.remove("active");
      document.getElementById("huskLayer").classList.add("active");
    }

    function revealBeanswhusk() {
      document.getElementById("huskLayer").classList.remove("active");
      document.getElementById("beanswhuskLayer").classList.add("active");
    }

    function revealBeans() {
      document.getElementById("beanswhuskLayer").classList.remove("active");
      document.getElementById("beansLayer").classList.add("active");
    }

    const goToTop = document.getElementById("go-to-top");
    const goToBottom = document.getElementById("go-to-bottom");

    goToBottom.addEventListener("click", () => {
      goToTop.scrollIntoView({ behavior: "smooth", block: "end" });

      // Animate the falling pods on "start" button click
      gsap.to("#pod1", { y: 700, opacity: 0, duration: 1, ease: "power2.in" });
      gsap.to("#pod2", {
        y: 750,
        opacity: 0,
        delay: 0.2,
        duration: 1,
        ease: "power2.in",
      });
      gsap.to("#pod3", {
        y: 800,
        opacity: 0,
        delay: 0.4,
        duration: 1,
        ease: "power2.in",
      });
    });

    ScrollTrigger.create({
      trigger: ".negativeone", // The top section
      start: "top top",
      onEnterBack: () => {
        gsap.to("#pod1", { y: 0, opacity: 1, duration: 1 });
        gsap.to("#pod2", { y: 0, opacity: 1, duration: 1 });
        gsap.to("#pod3", { y: 0, opacity: 1, duration: 1 });
      },
    });

    //   Cracking & Winnowing play videos when you click on either cracking or winnowing

    const crackBlock = document.getElementById("crack-block");
    const winnowBlock = document.getElementById("winnow-block");
    const crackOverlay = document.getElementById("crack-overlay");
    const winnowOverlay = document.getElementById("winnow-overlay");
    const crackVideo = document.getElementById("crack-video");
    const winnowVideo = document.getElementById("winnow-video");
    const crackText = document.getElementById("crack-text");
    const winnowText = document.getElementById("winnow-text");

    crackOverlay.addEventListener("click", () => {
      crackOverlay.style.display = "none";
      crackVideo.play();
      crackText.style.display = "block";

      winnowOverlay.style.display = "flex";
      winnowVideo.pause();
      winnowText.style.display = "none";
    });

    winnowOverlay.addEventListener("click", () => {
      winnowOverlay.style.display = "none";
      winnowVideo.play();
      winnowText.style.display = "block";

      crackOverlay.style.display = "flex";
      crackVideo.pause();
      crackText.style.display = "none";
    });

    // Section 7 pinned scroll with active step toggling
    gsap.utils.toArray(".seven .step").forEach((step, i) => {
      ScrollTrigger.create({
        trigger: step,
        start: "top top",
        end: "bottom top",
        scrub: true,
        pin: true,
        pinSpacing: false,
      });
    });

    //     Particles floating particles on top of grinding image after you click "click to learn more"

    function createParticle() {
      const container = document.getElementById("grindingParticles");
      const particle = document.createElement("div");
      particle.classList.add("particle");

      // Random horizontal start
      const containerWidth = container.offsetWidth;
      const rightPadding = 64; // 4rem = 64px
      const maxX = containerWidth - rightPadding;
      particle.style.left = Math.random() * maxX + "px";

      container.appendChild(particle);

      // Animate the particle upward and fade out
      gsap.to(particle, {
        y: -100 - Math.random() * 200,
        x: Math.random() * 60 - 30,
        opacity: 0,
        scale: 0.5 + Math.random(),
        duration: 2 + Math.random(),
        ease: "power1.out",
        onComplete: () => particle.remove(),
      });
    }

    // grinding body paragraph appears after button is clicked
    let particleInterval;

    document
      .getElementById("revealGrindingText")
      .addEventListener("click", () => {
        const text = document.querySelector(".grinding-description");

        if (text.classList.contains("show")) {
          text.classList.remove("show");
          clearInterval(particleInterval);
          particleInterval = null;
        } else {
          text.classList.add("show");
          if (!particleInterval) {
            particleInterval = setInterval(createParticle, 100);
          }
        }
      });
  </script>
</html>
